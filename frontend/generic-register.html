<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 min-h-screen w-full">
    <div
      class="min-h-screen min-w-lg flex items-center justify-center py-12 px-4"
    >
      <div class="max-w-2xl mx-auto p-6 mt-10 bg-white rounded-lg shadow-lg">
        <h2 class="text-2xl font-bold text-center mb-3">
          <span class="text-green-500">Digitrust</span>
          - Register
        </h2>
        <hr class="mb-3" />

        <div class="mb-6">
          <label for="userType" class="block text-lg font-medium text-gray-700"
            >Registering As:</label
          >
          <select
            id="userType"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"
            onchange="toggleForm()"
          >
            <option value="guardian">Guardian</option>
            <option value="child">Child</option>
            <option value="platform">Platform</option>
          </select>
        </div>

        <!-- Guardian Form -->
        <div id="guardianForm" class="hidden space-y-4">
          <form id="guardianRegisterForm">
            <div>
              <label
                for="guardianAddress"
                class="block text-sm font-medium text-gray-700"
                >Guardian Address</label
              >
              <input
                type="text"
                id="guardianAddress"
                class="mt-1 block w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"
                placeholder="Enter guardian address"
                required
              />
            </div>
            <button
              type="submit"
              class="w-full bg-green-600 text-white py-2 px-4 mt-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
            >
              Register as Guardian
            </button>
          </form>
        </div>

        <!-- Child Form -->
        <div id="childForm" class="hidden space-y-4">
          <form id="childRegisterForm">
            <div>
              <label
                for="childIdHash"
                class="block text-sm font-medium text-gray-700"
                >Child ID Hash</label
              >
              <input
                type="text"
                id="childIdHash"
                class="mt-1 block w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"
                placeholder="Enter child's encrypted ID hash"
                required
              />
            </div>
            <button
              type="submit"
              class="w-full bg-green-600 text-white py-2 mt-4 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
            >
              Register as Child
            </button>
          </form>
        </div>

        <!-- Platform Form -->
        <div id="platformForm" class="hidden space-y-4">
          <form id="platformRegisterForm">
            <div>
              <label
                for="platformName"
                class="block text-sm font-medium text-gray-700"
                >Platform Name</label
              >
              <input
                type="text"
                id="platformName"
                class="mt-1 block w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"
                placeholder="Enter platform name"
                required
              />
            </div>
            <div>
              <label
                for="platformAddress"
                class="block text-sm font-medium text-gray-700"
                >Platform Address</label
              >
              <input
                type="text"
                id="platformAddress"
                class="mt-1 block w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"
                placeholder="Enter platform address"
                required
              />
            </div>
            <button
              type="submit"
              class="w-full bg-green-600 text-white py-2 mt-4 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
            >
              Register as Platform
            </button>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Function to toggle the visibility of forms based on selected user type
      function toggleForm() {
        const userType = document.getElementById("userType").value;
        const guardianForm = document.getElementById("guardianForm");
        const childForm = document.getElementById("childForm");
        const platformForm = document.getElementById("platformForm");

        guardianForm.classList.add("hidden");
        childForm.classList.add("hidden");
        platformForm.classList.add("hidden");

        if (userType === "guardian") {
          guardianForm.classList.remove("hidden");
        } else if (userType === "child") {
          childForm.classList.remove("hidden");
        } else if (userType === "platform") {
          platformForm.classList.remove("hidden");
        }
      }

      document
        .getElementById("guardianRegisterForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const guardianAddress =
            document.getElementById("guardianAddress").value;
          //console.log("Registering Guardian with address:", guardianAddress);
          // implemenation of guardian registration will go here
        });

      document
        .getElementById("childRegisterForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const childIdHash = document.getElementById("childIdHash").value;
          //console.log("Registering Child with ID Hash:", childIdHash);
          // implemenation of child registration will go here
        });

      document
        .getElementById("platformRegisterForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const platformName = document.getElementById("platformName").value;
          const platformAddress =
            document.getElementById("platformAddress").value;
          //console.log("Registering Platform ", platformName);
          // implemenation of platform registration will go here
        });

      toggleForm();
    </script>
  </body>
</html>
